<!-- templates/marketing/dashboard.html -->
{% extends 'base.html' %}

<style>

</style>

<div style="margin-left: 260px; padding: 30px; width: calc(100% - 260px);">
{% block title %}Dashboard - Marketing{% endblock %}

{% block content %}

<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-8">

            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">New Ticket (Job)</h5>
                </div>
                <div class="card-body">
                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}

                        <!-- Non-field errors -->
                        {% if form.non_field_errors %}
                            <div class="alert alert-danger">
                                {{ form.non_field_errors }}
                            </div>
                        {% endif %}

                        <div class="mb-3">
                            <label class="form-label">Job ID (Must be unique)</label>
                            {{ form.job_id }}
                            {% if form.job_id.errors %}
                                <div class="text-danger small">{{ form.job_id.errors }}</div>
                            {% endif %}
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Title</label>
                            {{ form.title }}
                            {% if form.title.errors %}
                                <div class="text-danger small">{{ form.title.errors }}</div>
                            {% endif %}
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Description / Question Details</label>
                            {{ form.description }}
                            {% if form.description.errors %}
                                <div class="text-danger small">{{ form.description.errors }}</div>
                            {% endif %}
                        </div>

                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Topic</label>
                                {{ form.topic }}
                                {% if form.topic.errors %}
                                    <div class="text-danger small">{{ form.topic.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Word Count</label>
                                {{ form.word_count }}
                                {% if form.word_count.errors %}
                                    <div class="text-danger small">{{ form.word_count.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Referencing Style</label>
                                {{ form.referencing_style }}
                                {% if form.referencing_style.errors %}
                                    <div class="text-danger small">{{ form.referencing_style.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Priority</label>
                                {{ form.priority }}
                                {% if form.priority.errors %}
                                    <div class="text-danger small">{{ form.priority.errors }}</div>
                                {% endif %}
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Deadline (Date &amp; Time)</label>
                                {{ form.deadline }}
                                {% if form.deadline.errors %}
                                    <div class="text-danger small">{{ form.deadline.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Question File (Question Paper / Brief)</label>
                            {{ form.question_file }}
                            {% if form.question_file.errors %}
                                <div class="text-danger small">{{ form.question_file.errors }}</div>
                            {% endif %}
                            <div class="form-text">
                                Allowed: DOC, DOCX, PDF, PNG, JPG, JPEG, PPTX, CSV, XLSX, XLS (Max 50MB each)
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Marketing Notes (Internal)</label>
                            {{ form.marketing_notes }}
                            {% if form.marketing_notes.errors %}
                                <div class="text-danger small">{{ form.marketing_notes.errors }}</div>
                            {% endif %}
                        </div>

                        <div class="d-flex justify-content-between">
                            <a href="{% url 'tickets:marketing-ticket-list' %}" class="btn btn-outline-secondary">
                                ‚Üê Back to My Tickets
                            </a>
                            <button type="submit" class="btn btn-primary">
                                Create Ticket
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            {% if form.errors %}
                <div class="alert alert-danger mt-3">
                    Please fix the errors above and try again.
                </div>
            {% endif %}

        </div>
    </div>
</div>

<!-- Bootstrap JS (optional, for future modals, etc.) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

{% endblock %}



